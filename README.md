## Моргание светодиодов происходит в файле `Core/Src/main.c` в функции `HAL_TIM_PeriodElapsedCallback`
```c++
void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
{
  // Проверяем какой таймер вызывает это событие и переключаем светодиод
  if (htim == &htim6)
  {
    switch(tim6_counter)
    {
      case 0:
        // Здесь везде используется GPIOB поскольку все порты (Green_GPIO_Port, Red_GPIO_Port, Blue_GPIO_Port) ссылаются на него в Core/Inc/main.h
        HAL_GPIO_WritePin(GPIOB, Red_Pin|Green_Pin|Blue_Pin, GPIO_PIN_RESET);  // Сбрасываем значения пинов всех светодиодов
        HAL_GPIO_WritePin(GPIOB, Red_Pin, GPIO_PIN_SET);  // Включаем красный светодиод
        break;
      case 1:
        HAL_GPIO_WritePin(GPIOB, Red_Pin, GPIO_PIN_RESET);  // Выключаем красный светодиод
        HAL_GPIO_WritePin(GPIOB, Green_Pin, GPIO_PIN_SET);  // Включаем зеленый светодиод
        break;
      case 2:
        HAL_GPIO_WritePin(GPIOB, Blue_Pin, GPIO_PIN_RESET);  // Выключаем зеленый светодиод
        HAL_GPIO_WritePin(GPIOB, Blue_Pin, GPIO_PIN_SET);  // Включаем синий светодиод
        break;
    }
    // Проходимся от 0 до 2 (0, 1, 2). Тем самым переключаем светодиоды
    if (tim6_counter < 2) tim6_counter++;
    else tim6_counter = 0;
  }
}
```

## Входы / выходы общего назначения (GPIO)
Каждый из контактов GPIO может быть настроен программно как выход (двухтактный или открытый сток,
с подтягиванием или опусканием или без них), в качестве входа (плавающий, с подтягиванием или опусканием или без них)
или в качестве альтернативной периферийной функции. Большинство контактов GPIO используются совместно с цифровыми или аналоговыми
альтернативные функции. Все GPIO способны работать с большими токами и имеют возможность выбора скорости для лучшей
управлять внутренним шумом, потребляемой мощностью и электромагнитным излучением.
При необходимости конфигурацию ввода / вывода можно заблокировать, следуя определенной последовательности, чтобы
избегайте ложной записи в регистры ввода-вывода.
Быстрая обработка ввода-вывода позволяет максимальное переключение ввода-вывода до 108 МГц.

## Базовые таймеры TIM6 - TIM7
[Статья про таймеры](https://istarik.ru/blog/stm32/118.html)
Эти таймеры в основном используются для запуска ЦАП и генерации сигналов. Они также могут быть
используется в качестве общей 16-битной временной базы.
TIM6 и TIM7 поддерживают независимую генерацию запросов DMA.